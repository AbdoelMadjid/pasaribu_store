<?php 	include("koneksi.php");	include("validate_string.php");	include("helper_function.php");	include("show_message.php");		$receive = "NULL";		$FILTER_FIELD_NAME 	= "nama_barang";		//Table yg di akses pada get_home_data	$TABLE_BARANG 		= "barang";	$TABLE_PENJUAL 		= "penjual";	$TABLE_MEREK		= "merek";		$LIMIT_DATA			= 50;	$FIELD_ID_BARANG	= "id_barang";	$FIELD_ID_USER		= "id_user";	$FIELD_NAMA_BARANG	= "nama_barang";		$header_barang		= "BARANG";	$header_returned_data_penjual = "SUPPLIER";	$header_returned_data_merek = "BRAND";	$header_data_size	= "DATA_SIZE";	$header_query		= "QUERY";	$header_receive_data= "RECEIVE_DATA";				$QUERY_PENJUAL = sprintf("SELECT * FROM %s", $TABLE_PENJUAL); 	$QUERY_MEREK = sprintf("SELECT * FROM %s", $TABLE_MEREK); 		if( isset( $_GET['q'] ) ) {		//Mencari data barang		$searchKey = $_GET['q'];				$QUERY = sprintf("SELECT * FROM %s WHERE %s LIKE  '%%%s%%' LIMIT %s ", 					  $TABLE_BARANG, 					  $FILTER_FIELD_NAME,					  $searchKey, 					  $LIMIT_DATA );			} else if( isset( $_POST['id_user'] ) ) {		//Permintaan normal, mengambil data barang sesuai id_user aktif				$id_user = $_POST['id_user'];				$QUERY = sprintf("SELECT * FROM %s WHERE %s = %d LIMIT %d", 					  $TABLE_BARANG, 					  $FIELD_ID_USER, $id_user,					  $LIMIT_DATA );				$receive = mysql_escape_string( json_encode($_POST) );		} else if( isset( $_POST['id_barang'] ) && isset( $_POST['id_user'] ) ) {		//permintaan spesifik utk data barang dengan id_barang ini.				$id_barang = $_POST['id_barang'];		$id_user = $_POST['id_user'];				$QUERY = sprintf("SELECT * FROM %s WHERE %s = %d AND %s = $d LIMIT %d", 					  $TABLE_BARANG, 					  $FIELD_ID_BARANG, $id_barang,					  $FIELD_ID_USER, $id_user,					  $LIMIT_DATA );				$receive = mysql_escape_string( json_encode($_POST) );		} else {		//Utk keperluan percobaan, hapus utk produksi		$QUERY = sprintf("SELECT * FROM %s LIMIT %d", $TABLE_BARANG, $LIMIT_DATA );	}		$dataTable = array(); //data barang		$data_penjual = array();	$data_merek = array();		//Fungsi getMySQLData mengembalikan Array	$dataTable = getMySQLData($QUERY);	$data_penjual = getMySQLData($QUERY_PENJUAL); 	$data_merek = getMySQLData($QUERY_MEREK);			//Jika array yag dikembalikan salah satu data == null, tampilkan pesan error.	if($dataTable == null || $data_penjual == null || $data_merek == null) {		errorMassage();		return;	}				$data_size = sizeof($dataTable);			///////////////////////////////////////////////////////////////////////	//////////////////////////MEMULAI KIRIM DATA///////////////////////////		header('Content-type: application/json');		//Final data will send to client side	$data = sprintf('	{  	"%s" : %s ,	"%s" : %s ,	"%s" : %s ,	"%s" : %d , 	"%s" : "%s", 	"%s" : "%s" 	} ', 				 		$header_barang, json_encode($dataTable, true),		$header_returned_data_penjual, json_encode($data_penjual, true),		$header_returned_data_merek, json_encode($data_merek, true), 		$header_data_size, $data_size, 		$header_query, $QUERY, 		$header_receive_data, $receive 	);	print_r($data);		//Informasi yg dikirimkan kepada client		?>